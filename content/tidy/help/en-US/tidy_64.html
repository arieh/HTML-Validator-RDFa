<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tidy 64 - Htmlpedia</title>
    <link rel="stylesheet" type="text/css" href="tidy_help2.css" media="screen, projection"/>
  </head>
<body>
  <div id="bodyContent">
<h2> “&lt;<var>…</var>&gt; escaping malformed URI reference” </h2>
<h3> Cause: </h3>
<p>A URI contains impermissible characters or quotes around the URI are not closed.
</p>
<h3> Example: </h3>
<table class='bad' title='Bad'><tr><td width='22' valign='top'><img src='../../../skin/error.png' alt='Good'/></td><td>&lt;a href="http://www.mozilla.org/one space.html"&gt;space&lt;/a&gt;</td></tr></table>
<table class='good' title='Good'><tr><td width='22' valign='top'><img src='../../../skin/good.png' alt='Good'/></td><td>&lt;a href="http://www.mozilla.org/one%20space.html"&gt;space&lt;/a&gt;</td></tr></table>
<table class='good' title='Good'><tr><td width='22' valign='top'><img src='../../../skin/good.png' alt='Good'/></td><td>&lt;a href="http://www.mozilla.org/one+space.html"&gt;space&lt;/a&gt;</td></tr></table>
<table class='bad' title='Bad'><tr><td width='22' valign='top'><img src='../../../skin/error.png' alt='Good'/></td><td>&lt;a href="http://www.site.com/déjà.htm">déjà&lt;/a></td></tr></table>
<table class='good' title='Good'><tr><td width='22' valign='top'><img src='../../../skin/good.png' alt='Good'/></td><td>&lt;a href="http://www.site.com/d%E9j%E0.htm">d&amp;eacute;j&amp;agrave;&lt;/a></td></tr></table>
<table class='bad' title='Bad'><tr><td width='22' valign='top'><img src='../../../skin/error.png' alt='Good'/></td><td>&lt;a href="http://www.w3.org/>W3C&lt;/a></td></tr></table>
<table class='good' title='Good'><tr><td width='22' valign='top'><img src='../../../skin/good.png' alt='Good'/></td><td>&lt;a href="http://www.w3.org/">W3C&lt;/a></td></tr></table>
<table class='bad' title='Bad'><tr><td width='22' valign='top'><img src='../../../skin/error.png' alt='Good'/></td><td>&lt;a href="mailto:name@domain.com?subject=one space"&gt;Email me!&lt;/a&gt;</td></tr></table>
<table class='good' title='Good'><tr><td width='22' valign='top'><img src='../../../skin/good.png' alt='Good'/></td><td>&lt;a href="mailto:name@domain.com?subject=one%20space"&gt;Email me!&lt;/a&gt;</td></tr></table> 
<p>A space should not be contained in a URI (even if it works in all browsers…). This is detailed in <a href="http://www.ietf.org/rfc/rfc1738.txt">RFC1738</a>; look for the word “unsafe”.
</p>
<h3> Solution: </h3>
<ul><li> If the URI contains impermissible characters, replace the characters with permissible ones or encode them using hexadecimal format. In the case of URIs, hexadecimal format uses a percentage character followed by a combination of two letters and digits (a-f and 0-9). The notation for the space character is <code>%20</code>.
</li><li> If the URI is missing a quotation mark delimiter, add the character.
</li></ul>
<h3> References: </h3>
<ul><li> <a href="http://www.ietf.org/rfc/rfc2396.txt">RFC2396 - Uniform Resource Identifiers (URI): Generic Syntax"</a>
</li><li> <a href="http://www.ietf.org/rfc/rfc1738.txt">RFC1738 - Uniform Resource Locators</a>
</li><li> <a href="http://www.w3schools.com/tags/ref_urlencode.asp">W3Schools: Hexadecimal Format Reference</a>
</li><li> <a href="http://www.w3schools.com/tags/ref_entities.asp">W3Schools: Entities names of Diacritics characters (ISO 8859-1 Symbols)</a>
</li></ul>
  </div>
</body>
</html>
